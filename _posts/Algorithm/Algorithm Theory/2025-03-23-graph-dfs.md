---
title: "[μ•κ³ λ¦¬μ¦] κΉμ΄ μ°μ„  νƒμƒ‰(DFS) κµ¬ν„(C++, Python)"
date: 2025-03-23 23:00:00 +0900
last_modified_at: 2025-03-23 23:00:00 +0900
categories:
  - Algorithm Theory
tags:
  - graph
  - algorithm
  - coding test
  - graph implementation
  - dfs

toc: true
toc_sticky: true
---

## 1. π” κΉμ΄ μ°μ„  νƒμƒ‰(DFS, Depth-First Search)

> μ‹μ‘ λ…Έλ“λ¶€ν„° νƒμƒ‰μ„ μ‹μ‘ν•μ—¬ κ°„μ„ μ„ λ”°λΌ μµλ€ κΉμ΄ λ…Έλ“κΉμ§€ μ΄λ™ν•λ©° μ°¨λ΅€λ€λ΅ λ°©λ¬Έν•λ‹¤. μµλ€ κΉμ΄ λ…Έλ“κΉμ§€ λ°©λ¬Έν• λ‹¤μμ—λ” μ΄μ „μ— λ°©λ¬Έν• λ…Έλ“λ¥Ό κ±°μ¬λ¬ μ¬λΌκ°€λ©° ν•΄λ‹Ή λ…Έλ“μ™€ μ—°κ²°λ λ…Έλ“ μ¤‘ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λ΅ λ‹¤μ‹ μµλ€ κΉμ΄κΉμ§€ μ°¨λ΅€λ€λ΅ λ°©λ¬Έν•λ‹¤.

## 2. π’΅ DFS μ•κ³ λ¦¬μ¦

- νƒμƒ‰μ„ ν•λ ¤λ©΄ μ‹μ‘ λ…Έλ“λ¥Ό μ •ν•κ³  μ¤νƒμ— μ‹μ‘ λ…Έλ“λ¥Ό ν‘Έμ‹ν•λ‹¤. μ¤νƒμ— μλ” λ…Έλ“λ” μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ•μ§€λ§ λ°©λ¬Έν•  μμ •μΈ λ…Έλ“μ΄λ‹¤. μ΄ν›„ λ‹¤μ κ³Όμ •μ„ λ°λ³µν•λ‹¤.

1. μ¤νƒμ΄ λΉ„μ—λ”μ§€ ν™•μΈν•λ‹¤. μ¤νƒμ΄ λΉ„μ—λ‹¤λ” κ±΄ λ°©λ¬Έν•  μ μλ” λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν–μμ„ μλ―Έν•λ‹¤. λ”°λΌμ„ μ¤νƒμ΄ λΉ„μ—μΌλ©΄ νƒμƒ‰μ„ μΆ…λ£ν•λ‹¤.
2. μ¤νƒμ—μ„ λ…Έλ“λ¥Ό νν•λ‹¤. νν• μ›μ†λ” μµκ·Όμ— μ¤νƒμ— ν‘Έμ‹ν• λ…Έλ“μ΄λ‹¤.
3. νν• λ…Έλ“μ λ°©λ¬Έ μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤. μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ•λ‹¤λ©΄ λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬ν•λ‹¤.
4. λ°©λ¬Έν• λ…Έλ“μ™€ μΈμ ‘ν• λ¨λ“  λ…Έλ“λ¥Ό ν™•μΈν•λ‹¤. κ·Έμ¤‘μ—μ„ μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λ¥Ό μ¤νƒμ— ν‘Έμ‹ν•λ‹¤. μ¤νƒμ€ LIFO κµ¬μ΅°μ΄λ―€λ΅ λ°©λ¬Έ μμ„λ¥Ό μ¤λ¦„μ°¨μμΌλ΅ κ³ λ ¤ν•λ‹¤λ©΄ μ—­μμΌλ΅ λ…Έλ“λ¥Ό ν‘Έμ‹ν•΄μ•Ό ν•λ‹¤.

## 3. β οΈ κ³ λ ¤ μ‚¬ν•­

- νƒμƒ‰ν•  λ…Έλ“κ°€ μ—†μ„ λ•κΉμ§€ κ°„μ„ μ„ νƒ€κ³  λ‚΄λ ¤κ° μ μμ–΄μ•Ό ν•λ‹¤.
- κ°€μ¥ μµκ·Όμ— λ°©λ¬Έν• λ…Έλ“λ¥Ό μ•μ•„μ•Ό ν•λ‹¤.
- μ΄λ―Έ λ°©λ¬Έν• λ…Έλ“μΈμ§€ ν™•μΈν•  μ μμ–΄μ•Ό ν•λ‹¤.

## 4. π› οΈ μ¤νƒμ„ ν™μ©ν• DFS

- μ¤νƒμ— ν‘Έμ‹ν• λ…Έλ“λ” μ΄λ΅μƒ‰, λ°©λ¬Έν• λ…Έλ“λ” ν•λμƒ‰μΌλ΅ μƒ‰μΉ ν•λ‹¤.
- 1λ‹¨κ³„: μ•„μ§ 1μ€ λ°©λ¬Έν•μ§€ μ•μ•κ³  λ°©λ¬Έν•  μμ •μ΄κΈ°λ§ ν•λ―€λ΅ κ·Έλν”„λ” ν‘Έμ‹ν• λ…Έλ“λ§ μƒ‰μΉ λμ–΄ μλ‹¤.
- 2λ‹¨κ³„: 1μ„ νν• ν›„μ— 1μ΄ λ°©λ¬Έν• μƒνƒμΈμ§€ ν™•μΈν•λ‹¤. 1μ€ μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“μ΄λ―€λ΅ λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤(ν•λμƒ‰μΌλ΅ μƒ‰μΉ ). λ°©λ¬Έ μ²λ¦¬λ¥Ό ν• ν›„μ—λ” 1κ³Ό μΈμ ‘ν•λ©΄μ„ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“ 5, 4λ¥Ό ν‘Έμ‹ν•μ—¬ μ΄ν›„μ— λ°©λ¬Έ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ‹¤(μμ„λ” μƒκ΄€ μ—†λ‹¤. κ²°κµ­ λ¨λ‘ νƒμƒ‰ν•κ² λλ‹¤.).
- 3λ‹¨κ³„: μ¤νƒμ—μ„ 4λ¥Ό νν• λ‹¤μ, 4κ°€ λ°©λ¬Έν• μƒνƒμΈμ§€ ν™•μΈν•λ‹¤. 4λ” μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ•μΌλ―€λ΅ λ°©λ¬Έ μ²λ¦¬ν•λ‹¤. κ·Έλ° λ‹¤μ 4μ™€ μΈμ ‘ν• 3, 2λ¥Ό ν‘Έμ‹ν•λ‹¤.
- 4λ‹¨κ³„: 2λ¥Ό νν•λ‹¤. 2λ” λ°©λ¬Έν•μ§€ μ•μ•μΌλ―€λ΅ 2λ¥Ό λ°©λ¬Έ μ²λ¦¬ν•λ‹¤. κ·Έλ° λ‹¤μ 2μ™€ μΈμ ‘ν•λ©΄μ„ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“ 3μ„ ν‘Έμ‹ν•λ‹¤.
- 5λ‹¨κ³„: 3μ„ νν•κ³  λ°©λ¬Έ μ²λ¦¬ν•λ‹¤. 3κ³Ό μΈμ ‘ν•λ©΄μ„ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“κ°€ μ—†μΌλ‹ μ•„λ¬΄κ²ƒλ„ ν‘Έμ‹ν•μ§€ μ•λ”λ‹¤.
- 6λ‹¨κ³„: λ λ‹¤μ‹ 3μ„ νν–μ§€λ§ μ΄λ―Έ λ°©λ¬Έ μ²λ¦¬λ¥Ό ν–μΌλ―€λ΅ μ•„λ¬΄ μ‘μ—…λ„ ν•μ§€ μ•λ”λ‹¤.
- 7λ‹¨κ³„: 5λ¥Ό νν•κ³  λ°©λ¬Έ μ²λ¦¬ν•λ‹¤. μ¤νƒμ΄ λΉ„μ—μΌλ―€λ΅ μ‘μ—…μ΄ λλ‚λ‹¤.

![Image](https://github.com/user-attachments/assets/12d4ade9-bb53-4045-adb3-ecf236d4dc00){: .align-center}

## 5. π“ μ¬κ·€ ν•¨μλ¥Ό ν™μ©ν• κΉμ΄ μ°μ„  νƒμƒ‰

- μ¬κ·€ ν•¨μλ¥Ό νΈμ¶ν•  λ•λ§λ‹¤ μ‹μ¤ν… μ¤νƒμ— νΈμ¶ν• ν•¨μκ°€ μ“μ΄λ―€λ΅ κΉμ΄ μ°μ„  νƒμƒ‰μ— ν™μ©ν•  μ μλ‹¤.
- νΈμ¶ν•  ν•¨μλ” `dfs()`λΌ μ„ μ–Έν•κ³  `dfs(N)`μ„ νΈμ¶ν•λ©΄ λ‹¤μ λ™μ‘μ„ ν•λ„λ΅ κµ¬ν„ν•λ‹¤.
	- `dfs(N)`: Nλ² λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬ν•κ³  Nλ² λ…Έλ“μ™€ μΈμ ‘ν• λ…Έλ“ μ¤‘ μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λ¥Ό νƒμƒ‰ν•λ‹¤.

## 6. π“ μ½”λ“ κµ¬ν„

```
    0
   / \
  1   2
 / \
3   4
```

### 6.1. C++

```cpp
#include <iostream>
#include <vector>
#include <stack>

using namespace std;

void dfs(int node, vector<bool>& visited, const vector<vector<int>>& graph) {
    // ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬
    visited[node] = true;
    cout << node << " ";

    // μΈμ ‘ν• λ…Έλ“ νƒμƒ‰
    for (int neighbor : graph[node]) {
        if (!visited[neighbor]) {
            dfs(neighbor, visited, graph);
        }
    }
}

int main() {
    // κ·Έλν”„ μ •μ (μ: 0-1-2-3-4)
    vector<vector<int>> graph = {
        {1, 2},    // 0
        {0, 3, 4}, // 1
        {0},       // 2
        {1},       // 3
        {1}        // 4
    };

    vector<bool> visited(graph.size(), false);
    dfs(0, visited, graph); // μ‹μ‘ λ…Έλ“: 0
    return 0;
}
```

### 6.2. Python

```python
def dfs(node, visited, graph):
    # ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬
    visited[node] = True
    print(node, end=" ")

    # μΈμ ‘ν• λ…Έλ“ νƒμƒ‰
    for neighbor in graph[node]:
        if not visited[neighbor]:
            dfs(neighbor, visited, graph)

if __name__ == "__main__":
    # κ·Έλν”„ μ •μ (μ: 0-1-2-3-4)
    graph = {
        0: [1, 2],
        1: [0, 3, 4],
        2: [0],
        3: [1],
        4: [1]
    }

    visited = [False] * len(graph)
    dfs(0, visited, graph)  # μ‹μ‘ λ…Έλ“: 0
```
